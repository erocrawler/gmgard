!function(t,i,n){"use strict";t.Calendario=function(i,n){this.$el=t(n),this._init(i)},t.Calendario.defaults={weeks:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekabbrs:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthabbrs:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],displayWeekAbbr:!1,displayMonthAbbr:!1,startIn:1,onDayClick:function(t,i,n){return!1}},t.Calendario.prototype={_init:function(i){this.options=t.extend(!0,{},t.Calendario.defaults,i),this.today=new Date,this.month=isNaN(this.options.month)||null==this.options.month?this.today.getMonth():this.options.month-1,this.year=isNaN(this.options.year)||null==this.options.year?this.today.getFullYear():this.options.year,this.caldata=this.options.caldata||{},this._generateTemplate(),this._initEvents()},_initEvents:function(){var i=this;this.$el.on("click.calendario","div.fc-row > div",function(n){var e=t(this),a=e.index(),o=e.children("div"),s={day:e.children("span.fc-date").text(),month:i.month+1,monthname:i.options.displayMonthAbbr?i.options.monthabbrs[i.month]:i.options.months[i.month],year:i.year,weekday:a+i.options.startIn,weekdayname:i.options.weeks[a+i.options.startIn]};s.day&&i.options.onDayClick(e,o,s,n)})},_generateTemplate:function(i){var n,e=this._getHead(),a=this._getBody();switch(this.rowTotal){case 4:n="fc-four-rows";break;case 5:n="fc-five-rows";break;case 6:n="fc-six-rows"}this.$cal=t('<div class="fc-calendar '+n+'">').append(e,a),this.$el.find("div.fc-calendar").remove().end().append(this.$cal),i&&i.call()},_getHead:function(){for(var t='<div class="fc-head">',i=0;i<=6;i++){var n=i+this.options.startIn,e=n>6?n-6-1:n;t+="<div>",t+=this.options.displayWeekAbbr?this.options.weekabbrs[e]:this.options.weeks[e],t+="</div>"}return t+="</div>"},_getBody:function(){var t=new Date(this.year,this.month+1,0),i=t.getDate(),n=new Date(this.year,this.month,1);this.startingDay=n.getDay();for(var e='<div class="fc-body"><div class="fc-row">',a=1,o=0;o<7;o++){for(var s=0;s<=6;s++){var r=this.startingDay-this.options.startIn,h=r<0?6+r+1:r,d="",c=this.month===this.today.getMonth()&&this.year===this.today.getFullYear()&&a===this.today.getDate(),l="";if(a<=i&&(o>0||s>=h)){d+='<span class="fc-date">'+a+'</span><span class="fc-weekday">'+this.options.weekabbrs[s+this.options.startIn>6?s+this.options.startIn-6-1:s+this.options.startIn]+"</span>";var y=(this.month+1<10?"0"+(this.month+1):this.month+1)+"-"+(a<10?"0"+a:a)+"-"+this.year,u=this.caldata[y];u&&(l=u),""!==l&&(d+="<div>"+l+"</div>"),++a}else c=!1;var p=c?"fc-today ":"";""!==l&&(p+="fc-content"),e+=""!==p?'<div class="'+p+'">':"<div>",e+=d,e+="</div>"}if(a>i){this.rowTotal=o+1;break}e+='</div><div class="fc-row">'}return e+="</div></div>"},_isValidDate:function(t){t=t.replace(/-/gi,"");var i=parseInt(t.substring(0,2),10),n=parseInt(t.substring(2,4),10),e=parseInt(t.substring(4,8),10);return!(i<1||i>12)&&(!(n<1||n>31)&&((4!=i&&6!=i&&9!=i&&11!=i||!(n>30))&&((2!=i||e%400!=0&&e%4!=0||e%100==0||!(n>29))&&(!(2==i&&e%100==0&&n>29)&&{day:n,month:i,year:e}))))},_move:function(t,i,n){"previous"===i?"month"===t?(this.year=this.month>0?this.year:--this.year,this.month=this.month>0?--this.month:11):"year"===t&&(this.year=--this.year):"next"===i&&("month"===t?(this.year=this.month<11?this.year:++this.year,this.month=this.month<11?++this.month:0):"year"===t&&(this.year=++this.year)),this._generateTemplate(n)},getYear:function(){return this.year},getMonth:function(){return this.month+1},getMonthName:function(){return this.options.displayMonthAbbr?this.options.monthabbrs[this.month]:this.options.months[this.month]},getCell:function(t){var i=Math.floor((t+this.startingDay-this.options.startIn)/7),n=t+this.startingDay-this.options.startIn-7*i-1;return this.$cal.find("div.fc-body").children("div.fc-row").eq(i).children("div").eq(n).children("div")},setData:function(i){i=i||{},t.extend(this.caldata,i),this._generateTemplate()},gotoNow:function(t){this.month=this.today.getMonth(),this.year=this.today.getFullYear(),this._generateTemplate(t)},"goto":function(t,i,n){this.month=t,this.year=i,this._generateTemplate(n)},gotoPreviousMonth:function(t){this._move("month","previous",t)},gotoPreviousYear:function(t){this._move("year","previous",t)},gotoNextMonth:function(t){this._move("month","next",t)},gotoNextYear:function(t){this._move("year","next",t)}};var e=function(t){i.console&&i.console.error(t)};t.fn.calendario=function(i){var n=t.data(this,"calendario");if("string"==typeof i){var a=Array.prototype.slice.call(arguments,1);this.each(function(){return n?t.isFunction(n[i])&&"_"!==i.charAt(0)?void n[i].apply(n,a):void e("no such method '"+i+"' for calendario instance"):void e("cannot call methods on calendario prior to initialization; attempted to call method '"+i+"'")})}else this.each(function(){n?n._init():n=t.data(this,"calendario",new t.Calendario(i,this))});return n}}(jQuery,window);